Lord Voldemort tightens his grip on the wizarding and Muggle worlds: his Death Eaters kidnap Garrick Ollivander, and destroy the Millennium Bridge. When Lucius Malfoy is sent to Azkaban, Voldemort chooses Draco to carry out a secret mission at Hogwarts. Draco's mother Narcissa and aunt Bellatrix Lestrange seek out Severus Snape, who claims to be a mole within the Order of the Phoenix. Snape makes an Unbreakable Vow with Narcissa to protect Draco and fulfill his assignment if he fails.

Harry Potter accompanies Albus Dumbledore to persuade former Potions professor Horace Slughorn to return to Hogwarts. At the Burrow, Harry reunites with his best friends Ron Weasley and Hermione Granger. They visit Fred and George Weasley's new joke shop in Diagon Alley and see Draco enter Knockturn Alley with a group of Death Eaters, including Fenrir Greyback. Harry believes Voldemort has made Draco a Death Eater, but Ron and Hermione are sceptical. On the Hogwarts Express, Harry hides in the Slytherin carriage using his Invisibility Cloak, but is spotted and petrified by Malfoy, before being saved by Luna Lovegood.

Harry discovers his borrowed Potions textbook is filled with helpful notes and spells left by the "Half-Blood Prince", and uses the book to excel in class and impress Slughorn, winning a Liquid Luck potion. Ron becomes Keeper of the Gryffindor Quidditch team and begins dating Lavender Brown, upsetting Hermione. Harry consoles Hermione, admitting to his own feelings for Ron's younger sister, Ginny. Harry spends the Christmas holidays with the Weasleys, and his suspicions about Draco are dismissed by the Order, but Arthur Weasley reveals that the Malfoys may have been interested in a Vanishing Cabinet. Bellatrix and Greyback attack the Burrow, and Harry saves Ginny before the Order arrives and fights off the Death Eaters.

At Hogwarts, Dumbledore asks Harry to retrieve a memory of Voldemort from Slughorn. After Ron accidentally ingests a love potion intended for Harry, Harry cures him with Slughorn's help. The trio celebrate with mead Slughorn intended to gift to Dumbledore, but Ron is poisoned, forcing Harry to save his life. Ron murmurs Hermione's name while recovering in the infirmary, causing Lavender to end their relationship. Harry confronts Draco about the poisoned mead and a cursed necklace that nearly killed another student, and they duel. Harry uses one of the Half-Blood Prince's curses to severely injure Malfoy, who is saved by Snape. Fearing the book contains more Dark Magic, Ginny and Harry hide it in the Room of Requirement and share their first kiss.

Harry uses his Liquid Luck potion to convince Slughorn to surrender the memory Dumbledore needs. Viewing the memory with Dumbledore, Harry learns Voldemort wanted information about Horcruxes, magical objects containing pieces of a wizard's soul as a form of immortality. Dumbledore concludes that Voldemort divided his soul into six Horcruxes, two of which have been destroyed: Tom Riddle's diary and Marvolo Gaunt's ring. They travel to a cave where Harry aids Dumbledore in drinking a potion that hides another Horcrux, Slytherin's locket.

A weakened Dumbledore defends them from Inferi and apparates back to Hogwarts, where Bellatrix, Greyback, and other Death Eaters enter through the Vanishing Cabinet in the Room of Requirement, which Draco connected to the one in Knockturn Alley. As Harry hides, Draco appears and disarms the headmaster, revealing he was chosen by Voldemort to kill Dumbledore, but Draco hesitates. Snape arrives, and casts the killing curse on Dumbledore. As the Death Eaters escape, Snape reveals that he was the Half-Blood Prince.

As Hogwarts students and staff mourn Dumbledore's death, Harry reveals to Ron and Hermione that the locket was a fake, containing a message from "R.A.B.", who stole the real Horcrux to destroy. Harry, Ron, and Hermione decide to forgo their final year at Hogwarts in order to track down the remaining Horcruxes.